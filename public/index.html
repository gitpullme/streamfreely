<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="StreamFreely - Convert Google Drive video links into streamable MP4 URLs">
  <title>StreamFreely | Video Streaming Proxy</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="bg-gradient"></div>
  <div class="bg-grid"></div>

  <header class="header">
    <nav class="navbar">
      <div class="logo">
        <span class="logo-text">Stream<span class="highlight">Freely</span></span>
      </div>
      <div class="nav-links">
        <a href="#features" class="nav-link">Features</a>
        <a href="#how-it-works" class="nav-link">How It Works</a>
      </div>
    </nav>
  </header>

  <main>
    <section class="hero">
      <div class="hero-content">
        <div class="badge"><span class="badge-dot"></span>Open Source Video Streaming</div>
        <h1 class="hero-title">Transform Any Link into <span class="gradient-text">Smooth Streams</span>
        </h1>
        <p class="hero-subtitle">Convert Google Drive videos or any streaming link into stable, embeddable URLs with
          buffer-free playback.</p>

        <!-- Module Selector Tabs -->
        <div class="module-tabs">
          <button class="module-tab active" data-module="drive">
            <span class="tab-icon">üìÅ</span>
            <span class="tab-label">Google Drive</span>
          </button>
          <button class="module-tab" data-module="universal">
            <span class="tab-icon">üåê</span>
            <span class="tab-label">Universal Stream</span>
          </button>
        </div>

        <!-- ========================================== -->
        <!-- MODULE 1: Google Drive -->
        <!-- ========================================== -->
        <div class="generator-card module-content" id="driveModule">
          <h2 class="card-title">
            <span class="title-icon">üìÅ</span>
            Google Drive Stream
          </h2>
          <p class="card-description">Convert public Google Drive videos into streamable MP4 URLs with quality
            selection.</p>

          <!-- Step 1: URL Input -->
          <div id="step1" class="step-section">
            <form id="analyzeForm" class="generator-form">
              <div class="input-group">
                <label for="driveUrl" class="input-label">Google Drive Video URL</label>
                <input type="url" id="driveUrl" name="driveUrl" placeholder="https://drive.google.com/file/d/xxxxx/view"
                  required>
                <span class="input-hint">Paste any Google Drive video link</span>
              </div>
              <button type="submit" id="analyzeBtn" class="btn-generate">
                <span class="btn-text">Analyze Video</span>
                <span class="btn-loader"></span>
              </button>
            </form>
          </div>

          <!-- Step 2: Quality Selection -->
          <div id="step2" class="step-section hidden">
            <div class="quality-info-card">
              <div class="quality-header">
                <div class="video-info">
                  <h3 id="videoName" class="video-name"></h3>
                  <div class="video-meta">
                    <span id="videoDuration" class="meta-item"></span>
                    <span id="videoSize" class="meta-item"></span>
                    <span id="videoCodec" class="meta-item"></span>
                  </div>
                </div>
                <button id="changeVideoBtn" class="btn-change">Change Video</button>
              </div>

              <div class="source-quality">
                <div class="quality-badge">
                  <span class="quality-label">Source Quality</span>
                  <span id="sourceResolution" class="quality-value"></span>
                </div>
                <div class="quality-details">
                  <div class="detail-item">
                    <span class="detail-label">Resolution</span>
                    <span id="sourcePixels" class="detail-value"></span>
                  </div>
                  <div class="detail-item">
                    <span class="detail-label">Bitrate</span>
                    <span id="sourceBitrate" class="detail-value"></span>
                  </div>
                  <div class="detail-item">
                    <span class="detail-label">Quality</span>
                    <span id="bitrateQuality" class="detail-value"></span>
                  </div>
                </div>
              </div>

              <div class="quality-selector">
                <h4 class="selector-title">Select Stream Quality</h4>
                <div id="qualityOptions" class="quality-options"></div>
              </div>

              <button id="generateBtn" class="btn-generate">
                <span class="btn-text">Generate Stream URL</span>
                <span class="btn-loader"></span>
              </button>
            </div>
          </div>

          <!-- Step 3: Result -->
          <div id="resultSection" class="result-section hidden">
            <div class="result-header">
              <div class="success-icon">‚úì</div>
              <div>
                <h3>Stream URL Generated!</h3>
                <p id="selectedQualityInfo" class="result-quality"></p>
              </div>
            </div>

            <div class="url-display">
              <input type="text" id="streamUrl" readonly class="url-input">
              <button id="copyBtn" class="btn-copy">Copy</button>
            </div>

            <div class="video-preview">
              <h4>Preview</h4>
              <video id="videoPlayer" controls preload="metadata"></video>
            </div>

            <div class="embed-section">
              <h4>Embed Code</h4>
              <pre id="embedCode"></pre>
              <button id="copyEmbedBtn" class="btn-copy-embed">Copy Embed</button>
            </div>

            <button id="newVideoBtn" class="btn-secondary">Generate Another Link</button>
          </div>

          <!-- Error Section -->
          <div id="errorSection" class="error-section hidden">
            <p id="errorMessage" class="error-message"></p>
          </div>
        </div>

        <!-- ========================================== -->
        <!-- MODULE 2: Universal Stream -->
        <!-- ========================================== -->
        <div class="generator-card module-content hidden" id="universalModule">
          <h2 class="card-title">
            <span class="title-icon">üåê</span>
            Universal Stream
          </h2>
          <p class="card-description">Stream any video link (HLS, DASH, MP4, etc.) with enhanced buffering for smooth,
            uninterrupted playback.</p>

          <!-- Universal Input Section -->
          <div id="universalStep1" class="step-section">
            <form id="universalForm" class="generator-form">
              <div class="input-group">
                <label for="universalUrl" class="input-label">Video Stream URL</label>
                <input type="url" id="universalUrl" name="universalUrl"
                  placeholder="https://example.com/video.m3u8 or any streaming link" required>
                <span class="input-hint">Supports: HLS (.m3u8), DASH (.mpd), MP4, WebM, and more</span>
              </div>

              <div class="stream-options">
                <div class="option-group">
                  <label class="option-label">
                    <input type="checkbox" id="enableBuffer" checked>
                    <span class="checkmark"></span>
                    <span>Enhanced Buffering</span>
                  </label>
                  <span class="option-hint">Pre-fetch segments for smoother playback</span>
                </div>
                <div class="option-group">
                  <label class="option-label">
                    <input type="checkbox" id="enableProxy" checked>
                    <span class="checkmark"></span>
                    <span>Proxy Streaming</span>
                  </label>
                  <span class="option-hint">Route through our servers for stability</span>
                </div>
              </div>

              <button type="submit" id="universalGenerateBtn" class="btn-generate">
                <span class="btn-text">Generate Stream Link</span>
                <span class="btn-loader"></span>
              </button>
            </form>
          </div>

          <!-- Universal Result Section -->
          <div id="universalResultSection" class="result-section hidden">
            <div class="result-header">
              <div class="success-icon">‚úì</div>
              <div>
                <h3>Proxy Stream Ready!</h3>
                <p id="universalStreamType" class="result-quality">Enhanced buffering enabled</p>
              </div>
            </div>

            <div class="stream-stats">
              <div class="stat-item">
                <span class="stat-icon">üîÑ</span>
                <span class="stat-label">Buffer Status</span>
                <span id="bufferStatus" class="stat-value">Ready</span>
              </div>
              <div class="stat-item">
                <span class="stat-icon">üìä</span>
                <span class="stat-label">Stream Type</span>
                <span id="detectedType" class="stat-value">--</span>
              </div>
              <div class="stat-item">
                <span class="stat-icon">‚ö°</span>
                <span class="stat-label">Proxy</span>
                <span id="proxyStatus" class="stat-value">Active</span>
              </div>
            </div>

            <div class="url-display">
              <input type="text" id="universalStreamUrl" readonly class="url-input">
              <button id="universalCopyBtn" class="btn-copy">Copy</button>
            </div>

            <div class="video-preview">
              <h4>Preview</h4>
              <div class="player-container">
                <video id="universalVideoPlayer" controls preload="auto"></video>
                <div id="bufferIndicator" class="buffer-indicator hidden">
                  <div class="buffer-spinner"></div>
                  <span>Buffering...</span>
                </div>
              </div>
            </div>

            <div class="embed-section">
              <h4>Embed Code</h4>
              <pre id="universalEmbedCode"></pre>
              <button id="universalCopyEmbedBtn" class="btn-copy-embed">Copy Embed</button>
            </div>

            <button id="universalNewBtn" class="btn-secondary">Stream Another Link</button>
          </div>

          <!-- Universal Error Section -->
          <div id="universalErrorSection" class="error-section hidden">
            <p id="universalErrorMessage" class="error-message"></p>
          </div>
        </div>

      </div>
    </section>

    <section class="features" id="features">
      <div class="container">
        <h2 class="section-title">Features</h2>
        <div class="features-grid">
          <div class="feature-card">
            <h3>üìÅ Google Drive Support</h3>
            <p>Stream videos directly from public Google Drive links with quality selection.</p>
          </div>
          <div class="feature-card">
            <h3>üåê Universal Streaming</h3>
            <p>Support for HLS, DASH, MP4, WebM, and virtually any streaming format.</p>
          </div>
          <div class="feature-card">
            <h3>‚ö° Enhanced Buffering</h3>
            <p>Pre-fetch segments for smooth, uninterrupted playback.</p>
          </div>
          <div class="feature-card">
            <h3>üîÑ Proxy Streaming</h3>
            <p>Route streams through our servers for stability and CORS-free playback.</p>
          </div>
          <div class="feature-card">
            <h3>üéØ Seamless Seeking</h3>
            <p>Full range request support for smooth scrubbing.</p>
          </div>
          <div class="feature-card">
            <h3>üì± Easy Embedding</h3>
            <p>Get embed codes for any stream format with HLS.js included.</p>
          </div>
          <div class="feature-card">
            <h3>üé¨ Quality Detection</h3>
            <p>Automatically detect resolution, bitrate, and codec for Drive videos.</p>
          </div>
          <div class="feature-card">
            <h3>üîí Secure Tokens</h3>
            <p>Time-limited tokens for added security on all stream URLs.</p>
          </div>
        </div>
      </div>
    </section>

    <section class="how-it-works" id="how-it-works">
      <div class="container">
        <h2 class="section-title">How It Works</h2>

        <div class="workflow-tabs">
          <h3 class="workflow-title">üìÅ Google Drive</h3>
          <div class="steps">
            <div class="step">
              <div class="step-number">1</div>
              <h3>Paste Link</h3>
              <p>Enter your Drive URL</p>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <h3>Analyze</h3>
              <p>We detect video quality</p>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <h3>Select Quality</h3>
              <p>Choose your preference</p>
            </div>
            <div class="step">
              <div class="step-number">4</div>
              <h3>Stream</h3>
              <p>Get your MP4 URL</p>
            </div>
          </div>
        </div>

        <div class="workflow-tabs" style="margin-top: 2rem;">
          <h3 class="workflow-title">üåê Universal Stream</h3>
          <div class="steps">
            <div class="step">
              <div class="step-number">1</div>
              <h3>Paste Any Link</h3>
              <p>HLS, DASH, MP4, etc.</p>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <h3>Configure</h3>
              <p>Enable buffering & proxy</p>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <h3>Generate</h3>
              <p>Get your proxy URL</p>
            </div>
            <div class="step">
              <div class="step-number">4</div>
              <h3>Play</h3>
              <p>Smooth, stable streaming</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <p>¬© 2024 StreamFreely. Built with ‚ù§Ô∏è for the open web.</p>
  </footer>

  <!-- HLS.js for m3u8 stream support -->
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script src="app.js"></script>
</body>

</html>